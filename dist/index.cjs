'use strict';Object.defineProperty(exports,'__esModule',{value:true});var signals=require('@minejs/signals');var i=null,f=new Map;function A(n){i=n;}function a(n){if(!i)throw new Error("Hooks can only be called inside a component");let e=i.currentHookIndex++;i.hooks[e]||(i.hooks[e]={value:n});let t=i.hooks[e];if(!t||typeof t!="object"||!("value"in t))throw new Error("Invalid hook state");return {value:t.value,index:e}}function l(n,e){if(i&&i.hooks[n]){let t=i.hooks[n];t&&typeof t=="object"&&"value"in t&&(t.value=e);}}function c(n){let e=a(null);if(!e.value){let o=typeof n=="function"?n():n,u=signals.signal(o);e.value=u,l(e.index,u);}let t=e.value;return [t,o=>{typeof o=="function"?t.update(o):t.set(o);}]}function s(n,e){let t=a({});if(!t.value.prevDeps||!e||e.length!==t.value.prevDeps.length||e.some((o,u)=>!Object.is(o,t.value.prevDeps[u]))){t.value.cleanup&&t.value.cleanup();let o=n();t.value.cleanup=o||void 0,t.value.prevDeps=e,l(t.index,t.value);}}function T(n,e){let t=a(null);if(!t.value||e.length!==t.value.prevDeps.length||e.some((o,u)=>!Object.is(o,t.value.prevDeps[u]))){let o=n(),u={value:o,prevDeps:e};return l(t.index,u),o}return t.value.value}function g(n,e){return T(()=>n,e)}function d(n){let e=a(null);if(!e.value){let t={current:n};return l(e.index,t),t}return e.value}function h(n){let e=a(null);if(!e.value){let t=signals.signal(n);return l(e.index,t),t}return e.value}function m(n){let e=a(null);if(!e.value){let t=signals.computed(n);return l(e.index,t),t}return e.value}function w(n,e){let[t,r]=c(e);return [t,u=>{r(p=>{let x=typeof p=="function"?p():p;return n(x,u)});}]}function S(n){return {_symbol:Symbol("context"),defaultValue:n}}function k(n){let e=f.get(n._symbol);return e!==void 0?e:n.defaultValue}function b(n){return f.set(n.context._symbol,n.value),n.children}function C(n=false){let[e,t]=c(n);return [e,()=>t(o=>!(typeof o=="function"?o():o))]}function E(n){let e=d(void 0);return s(()=>{e.current=n;},[n]),e.current}function D(n=0){let[e,t]=c(n);return {count:e,increment:()=>t(r=>(typeof r=="function"?r():r)+1),decrement:()=>t(r=>(typeof r=="function"?r():r)-1),reset:()=>t(n)}}function L(n,e){let t=localStorage.getItem(n),r=t?JSON.parse(t):e,[o,u]=c(r);return s(()=>{localStorage.setItem(n,JSON.stringify(o()));},[o()]),[o,u]}function H(n,e){let[t,r]=c(n);return s(()=>{let o=setTimeout(()=>{r(n);},e);return ()=>clearTimeout(o)},[n,e]),t()}function M(n,e){let t=d(n);s(()=>{t.current=n;},[n]),s(()=>{if(e===null)return;let r=setInterval(()=>t.current(),e);return ()=>clearInterval(r)},[e]);}function I(){let[n,e]=c({width:window.innerWidth,height:window.innerHeight});return s(()=>{let t=()=>{e({width:window.innerWidth,height:window.innerHeight});};return window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[]),n()}function V(n){let[e,t]=c(()=>window.matchMedia(n).matches);return s(()=>{let r=window.matchMedia(n),o=u=>{t(u.matches);};return r.addEventListener("change",o),()=>r.removeEventListener("change",o)},[n]),e()}function W(n,e,t=window){let r=d(e);s(()=>{r.current=e;},[e]),s(()=>{let o=u=>{r.current(u);};return t.addEventListener(n,o),()=>t.removeEventListener(n,o)},[n,t]);}var j={useState:c,useEffect:s,useMemo:T,useCallback:g,useRef:d,useReducer:w,useContext:k,useSignal:h,useComputed:m,useToggle:C,usePrevious:E,useCounter:D,useLocalStorage:L,useDebounce:H,useInterval:M,useWindowSize:I,useMediaQuery:V,useEventListener:W,createContext:S,ContextProvider:b};exports.ContextProvider=b;exports.createContext=S;exports.default=j;exports.setHookContext=A;exports.useCallback=g;exports.useComputed=m;exports.useContext=k;exports.useCounter=D;exports.useDebounce=H;exports.useEffect=s;exports.useEventListener=W;exports.useInterval=M;exports.useLocalStorage=L;exports.useMediaQuery=V;exports.useMemo=T;exports.usePrevious=E;exports.useReducer=w;exports.useRef=d;exports.useSignal=h;exports.useState=c;exports.useToggle=C;exports.useWindowSize=I;//# sourceMappingURL=index.cjs.map
//# sourceMappingURL=index.cjs.map